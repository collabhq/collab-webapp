language: node_js
node_js:
  - "stable"
cache:
  directories:
    - node_modules
script:
  - npm test
  - npm run build
deploy:
  provider: pages
  repo: puffnote/puffnote.github.io
  target_branch: master
  skip_cleanup: true
  github_token: $GITHUB_TOKEN
  keep_history: true
  local_dir: build
  on:
    branch: site
notifications:
  slack:
    secure: P8Go/tmUJmcmoygqSGoslXRjX5ctWFdCBp/C0iTU5EM+q1U4z2jlLToLd4GUfIhAr6wbDXYL0rBBE93jYcxfQHuVRQ4/Iy5MPJ74KmfP9qO1pbROq2gDrPa+CEciXraQzUlt7Bl5GFRHh8aMmSTRD0ZXf6kK7VBcCWcwuOPRQLFV+4SYNQgv5z51U4zq1wIlKskBPqeMXEUYBhUMVNtYlog/3/bip9HQimjBI/ZFTsNUBLCh5bD/nnURigRP0g9174kC2akRW5a6NE3Wc0lZlahsVpt2pXZloY/Hfy5wt+O+sV3uDABVA5L+F2nO0D6gczeCZWYfA1w0bXXGnv9yay+6mFuttz9CDHecd1BDjtHS7sCh1s7uTz49jGiWYdmeVTaXffLkxjnkok7ui6R8Ah2sz9KQhiksGLLHp9reX7uD8dLYel4FJovdoClWTZ2lLrfDEkUo1daP3/Ph1e9IqT2Aw33LgGFsAFhobqrpOMdQ7FZKQwdMI6n1+IpaYI4X//ruwAGp1JCUscrY0Wl4syMKDJtQ+CkGmz9S9qQ2LtV8R4lSGT/rYqyeKikmpqVAtPOy+6j3A1DAmbpvCSVuqqTC1j5ymU4o1vZumSLCCE2YPMuf5BKWFbVQITfspaF0uRcbxNCieZ5/SUVdG65jNO/JM7JcwTtewE1ULJxcOlw=